# Laravel Test


Репозиторий является реализацией тестового задания на языке PHP с использованием фреймворка Laravel.


## Описание


Проект представляет из себя приложение для публикации пользователями кулинарных рецептов.  
Взаимодействовать с приложением можно как посредством api, так и через web-интерфейс.  
Web-версия и api имеют аналогичный функционал.


Реализована система регистрации и аутентификации пользователей.


Для регистрации пользователь должен указать следующие данные:

* ник
* email
* пароль


Ник и email должны быть уникальными.


Для аутентификации требуется указать email и пароль.


В web-версии предусмотрена возможность установки "remember me" cookie.  
Для api-аутентификации используется Sanctum.


Есть возможность выйти из учётной записи на текущем устройстве в web-версии и возможность отозвать токен в случае api.  
Функция "выйти на всех устройствах" не реализовывалась.


Все пользователи, независимо от того, аутентифицированы ли они, могут просматривать список добавленных рецептов и отдельно конкретный рецепт.  
Аутентифицированные пользователи имеют следующие дополнительные возможности:

* добавлять рецепты
* редактировать рецепты
* видеть список рецептов, добавленных пользователем, под которым осуществляется доступ
* добавлять рецепты в избранные
* удалять рецепты из избранных
* видеть список избранных рецептов
* отправлять рецепты из приложения на email, в Telegram и Viber


Удаление рецептов не предусмотрено.


Для добавления рецепта необходимо указать такие данные:

* название
* (опционально) краткое описание
* сам текст рецепта


Пользователь не может добавлять несколько рецептов с одинаковым названием. При этом, у разных пользователей могут быть рецепты с одинаковым названием.


Пользователь может редактировать только собственные рецепты.  
Если запрос на редактирование осуществляется методом put, запрос должен содержать те же поля, что и при создании. Если используется метод patch, можно отправлять только те поля, которые хотим обновить. Соблюдаем идеологию rest.


Для отправки из приложения сообщения с рецептом, необходимо указать такие данные:

* канал отправки: mail, telegram, или viber
* (опционально) от кого отправляется сообщение
* получателя:
    * адрес электронной почты для mail,
    * ник, либо номер в международном формате для telegram
    * номер в международном формате для viber


Если пользователь не указал от кого сообщение, предполагается, что в этом случае в сообщение передаётся его ник и email.


Фактическая отправка сообщения происходит в очереди.


Создан фабричный сервис и драйверы для каждого из каналов, которые осуществляют непосредственно отправку сообщения.  
Реализацию с использованием стандартного механизма уведомлений Laravel смотрите в ветке main.


Важно! Фактическая отправка сообщений не осуществляется! Т.е. данный сервис необходимо рассматривать исключительно в качестве примера реализации.
